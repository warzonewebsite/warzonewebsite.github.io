{"version":3,"sources":["webpack:///./src/components/ProductPrice/ProductPrice.js","webpack:///./src/img/menutwo.png","webpack:///./src/components/EachShopItem/EachShopItem.js","webpack:///./src/components/Category/Category.js","webpack:///./src/components/ShopItemContainer/ShopItemContainer.js","webpack:///./src/components/ShopItemContainer/ShopItemContainer.module.scss","webpack:///./src/components/Filter/Filter.module.scss","webpack:///./src/components/Filter/Filter.js","webpack:///./src/components/EachShopItem/EachShopItem.module.scss"],"names":["ProductPrice","price","cls","dir","className","toLocaleString","style","fontWeight","module","exports","EachShopItem","title","img","key","to","classes","item","itemImg","alt","src","fluid","itemp","antIcon","fontSize","spin","client","require","createClient","space","process","accessToken","query","Category","props","useState","fetched","setFetched","total","setTotal","fetching","setFetch","pageNum","pageContext","numberOfPages","limit","parsed","queryString","parse","location","search","data","allContentfulProduct","edges","node","category","backUrl","handleFetch","val","page","skip","JSON","getEntries","content_type","order","then","res","items","catch","err","console","log","message","useEffect","sort","url","handleSort","navigate","size","spinning","indicator","map","each","fields","content","value","file","current","pageSize","onChange","num","humanPageNumber","ShopItemContainer","children","cont","Filter","active","handleCls","clstwo","activetwo","handleClstwo","width","menutwo","filtertext","btns","onClick","background","height"],"mappings":"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","file":"component---src-components-category-category-js-dccb4b44a59a4060f8d3.js","sourcesContent":["import React from 'react';\r\n\r\nfunction ProductPrice({ price, cls }) {\r\n\treturn (\r\n\t\t<h5 dir=\"rtl\" className={`text-left m-0 p-0 ml-4 ${cls}`}>\r\n\t\t\t{price.toLocaleString('ar-EG')}\r\n\t\t\t<span className=\"mr-2\" style={{ fontWeight: 'lighter' }}>\r\n\t\t\t\tتومان\r\n\t\t\t</span>\r\n\t\t</h5>\r\n\t);\r\n}\r\n\r\nexport default ProductPrice;\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAAu0lEQVR4nO3asQ1CMRAFwQ+V0gQhESFN0CnkjhCWbiWYya0XbHbycQAAAAAA/IPTtw8vt8drZ/h5v360/Ws7q/POKPsEiAkQEyAmQEyAmAAxAWICxASICRATICZATICYAAAAAMAgP+OGd1ZuQTEBYgLEBIgJEBMgJkBMgJgAMQFiAsQEiAkQEyAmAAAAADDIz7jhnZVbUEyAmAAxAWICxASICRATICZATICYADEBYgLEBIgJAAAAAADAgDcNXyRe36k/zAAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport Img from 'gatsby-image';\r\nimport { Link } from 'gatsby';\r\nimport classes from './EachShopItem.module.scss';\r\nimport ProductPrice from '../ProductPrice/ProductPrice';\r\n\r\nfunction EachShopItem({ title, price, img }) {\r\n\treturn (\r\n\t\t<Link key={title} to={`/product/${title}`}>\r\n\t\t\t<div className={classes.item}>\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t{typeof img === 'string' ? (\r\n\t\t\t\t\t\t\t<img className={`img-fluid ${classes.itemImg}`} alt=\"img\" src={img} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Img fluid={img} className={classes.itemImg} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p className={`text-right mr-3 mt-3 ${classes.itemp}`}>{title}</p>\r\n\t\t\t\t<ProductPrice cls=\"pb-3\" price={price} />\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t);\r\n}\r\n\r\nexport default EachShopItem;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { graphql, navigate } from 'gatsby';\r\nimport queryString from 'query-string';\r\nimport { Pagination, Spin } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\n// Components\r\nimport Layout from '../Layout/Layout';\r\nimport Filter from '../Filter/Filter';\r\nimport EachShopItem from '../EachShopItem/EachShopItem';\r\nimport ShopItemContainer from '../ShopItemContainer/ShopItemContainer';\r\n\r\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\r\nconst contentful = require('contentful');\r\nconst client = contentful.createClient({\r\n\tspace: `${process.env.SPACE_ID}`,\r\n\taccessToken: `${process.env.ACCESS_TOKEN}`\r\n});\r\nexport const query = graphql`\r\n\tquery($limit: Int!, $skip: Int!, $category: String!) {\r\n\t\tallContentfulProduct(skip: $skip, limit: $limit, filter: { category: { eq: $category } }) {\r\n\t\t\tedges {\r\n\t\t\t\tnode {\r\n\t\t\t\t\ttitle {\r\n\t\t\t\t\t\tcontent {\r\n\t\t\t\t\t\t\tcontent {\r\n\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdesc {\r\n\t\t\t\t\t\tcontent {\r\n\t\t\t\t\t\t\tcontent {\r\n\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlink {\r\n\t\t\t\t\t\tcontent {\r\n\t\t\t\t\t\t\tcontent {\r\n\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcategory\r\n\t\t\t\t\tprice\r\n\t\t\t\t\timg {\r\n\t\t\t\t\t\tfluid {\r\n\t\t\t\t\t\t\t...GatsbyContentfulFluid\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nfunction Category(props) {\r\n\tconst [ fetched, setFetched ] = useState([]);\r\n\tconst [ total, setTotal ] = useState(1);\r\n\tconst [ fetching, setFetch ] = useState(false);\r\n\tconst pageNum = props.pageContext.numberOfPages * props.pageContext.limit;\r\n\tconst parsed = queryString.parse(props.location.search);\r\n\r\n\tconst lavazem = 'لوازم جانبی';\r\n\tconst gameConsole = 'کنسول گیمینگ';\r\n\tconst title = props.data.allContentfulProduct.edges[0].node.category === 'console' ? gameConsole : lavazem;\r\n\tconst backUrl = props.data.allContentfulProduct.edges[0].node.category;\r\n\r\n\tconst handlePage = (num) => {\r\n\t\tif (num === 1) {\r\n\t\t\tnavigate(`/category/${backUrl}`);\r\n\t\t} else {\r\n\t\t\tnavigate(`/category/${backUrl}/${num}`);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSort = (val) => {\r\n\t\tif (val === 'expensive') {\r\n\t\t\tnavigate(`/category/${backUrl}?sort=desc&page=1`);\r\n\t\t} else {\r\n\t\t\tnavigate(`/category/${backUrl}?sort=asc&page=1`);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleFetch = (val, page) => {\r\n\t\tlet skip;\r\n\t\tlet limit = 6;\r\n\t\tif (page === '1') {\r\n\t\t\tskip = 0;\r\n\t\t} else {\r\n\t\t\tskip = JSON.parse(page - 1) * limit;\r\n\t\t}\r\n\t\tsetFetch(true);\r\n\t\tclient\r\n\t\t\t.getEntries({\r\n\t\t\t\tcontent_type: 'product',\r\n\t\t\t\t'fields.category': backUrl,\r\n\t\t\t\torder: val,\r\n\t\t\t\tskip: skip,\r\n\t\t\t\tlimit: limit\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetFetched(res.items);\r\n\t\t\t\tsetTotal(res.total);\r\n\t\t\t\tsetFetch(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err.message);\r\n\t\t\t\tsetFetch(false);\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tlet order;\r\n\t\t\tif (parsed.sort === 'desc') {\r\n\t\t\t\torder = '-fields.price';\r\n\t\t\t\thandleFetch(order, parsed.page);\r\n\t\t\t}\r\n\t\t\tif (parsed.sort === 'asc') {\r\n\t\t\t\torder = 'fields.price';\r\n\t\t\t\thandleFetch(order, parsed.page);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ props.location.search ]\r\n\t);\r\n\treturn (\r\n\t\t<Layout title={title}>\r\n\t\t\t<Filter url={`/category/${backUrl}`} location={props.location} handleSort={handleSort} />\r\n\t\t\t<Spin size=\"large\" spinning={fetching} indicator={antIcon}>\r\n\t\t\t\t<ShopItemContainer>\r\n\t\t\t\t\t{props.location.search ? (\r\n\t\t\t\t\t\tfetched.map((each) => {\r\n\t\t\t\t\t\t\tconst title = each.fields.title.content[0].content[0].value;\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<EachShopItem\r\n\t\t\t\t\t\t\t\t\tkey={title}\r\n\t\t\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\t\t\timg={each.fields.img[0].fields.file.url}\r\n\t\t\t\t\t\t\t\t\tprice={each.fields.price}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tprops.data.allContentfulProduct.edges.map((each) => {\r\n\t\t\t\t\t\t\tconst title = each.node.title.content[0].content[0].value;\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<EachShopItem\r\n\t\t\t\t\t\t\t\t\tkey={title}\r\n\t\t\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\t\t\timg={each.node.img[0].fluid}\r\n\t\t\t\t\t\t\t\t\tprice={each.node.price}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ShopItemContainer>\r\n\t\t\t</Spin>\r\n\t\t\t<div className=\"container d-flex justify-content-center\">\r\n\t\t\t\t{props.location.search ? (\r\n\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\tcurrent={JSON.parse(parsed.page)}\r\n\t\t\t\t\t\tpageSize={6}\r\n\t\t\t\t\t\ttotal={total}\r\n\t\t\t\t\t\tonChange={(num) => navigate(`/category/${backUrl}?sort=${parsed.sort}&page=${num}`)}\r\n\t\t\t\t\t\tclassName=\"mt-3\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\tcurrent={props.pageContext.humanPageNumber}\r\n\t\t\t\t\t\tpageSize={6}\r\n\t\t\t\t\t\ttotal={pageNum}\r\n\t\t\t\t\t\tonChange={handlePage}\r\n\t\t\t\t\t\tclassName=\"mt-3\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t);\r\n}\r\n\r\nexport default Category;\r\n","import React from 'react';\r\nimport classes from './ShopItemContainer.module.scss';\r\n\r\nfunction ShopItemContainer({ children }) {\r\n\treturn <div className={`container mt-2 justify-content-center ${classes.cont}`}>{children}</div>;\r\n}\r\n\r\nexport default ShopItemContainer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cont\":\"ShopItemContainer-module--cont--3zvqQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btns\":\"Filter-module--btns--1X_sx\",\"active\":\"Filter-module--active--52K7-\",\"activetwo\":\"Filter-module--activetwo--2kEv-\",\"filtertext\":\"Filter-module--filtertext--3ws2e\"};","import React, { Fragment } from 'react';\r\nimport { navigate } from 'gatsby';\r\nimport menutwo from '../../img/menutwo.png';\r\nimport classes from './Filter.module.scss';\r\nimport queryString from 'query-string';\r\n\r\nfunction Filter({ handleSort, location, url }) {\r\n\tconst parsed = queryString.parse(location.search);\r\n\r\n\tconst handleCls = () => {\r\n\t\tif (parsed.sort === 'asc') {\r\n\t\t\treturn classes.active;\r\n\t\t}\r\n\t};\r\n\tconst cls = handleCls();\r\n\r\n\tconst handleClstwo = () => {\r\n\t\tif (parsed.sort === 'desc') {\r\n\t\t\treturn classes.activetwo;\r\n\t\t}\r\n\t};\r\n\tconst clstwo = handleClstwo();\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<div dir=\"rtl\" className=\"container d-flex align-items-center mt-4\">\r\n\t\t\t\t<img alt=\"filter-icon\" style={{ width: '26px' }} className=\"img-fluid\" src={menutwo} />\r\n\t\t\t\t<h5 className={`p-0 m-0 mr-2 ml-2 ${classes.filtertext}`}>فیلتر :</h5>\r\n\t\t\t\t<button className={`${classes.btns}  ${cls} `} onClick={() => handleSort('cheap')}>\r\n\t\t\t\t\tارزان ترین\r\n\t\t\t\t</button>\r\n\t\t\t\t<button className={`${classes.btns} ${clstwo} `} onClick={() => handleSort('expensive')}>\r\n\t\t\t\t\tگران ترین\r\n\t\t\t\t</button>\r\n\t\t\t\t<button className={classes.btns} onClick={() => navigate(url)}>\r\n\t\t\t\t\tحذف فیلتر\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<hr style={{ background: '#FFFFFF', height: '1px' }} />\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nexport default Filter;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"EachShopItem-module--item--1u8u-\",\"itemImg\":\"EachShopItem-module--itemImg--o9zYU\",\"itemp\":\"EachShopItem-module--itemp--2zCeM\"};"],"sourceRoot":""}